# 账号管理系统前端

## 使用指南
1. 从git上将文件夹克隆至本地后，使用以下指令安装依赖包
```
    npm install
```

2. 在安装好依赖包之后，用户可以在服务端启动的情况下，通过使用以下指令启动客户端
```
    npm run start
```

3. 用户也可以使用一下指令，将代码编译至../server/pubild目录中
```
    npm run build
```
4. 在项目启动后，客户端会开启本机的3000端口

## 项目说明
+ 项目分为三大组成部分，学习心得、账户管理和角色管理，在项目启动时，会向后端拉去一次数据用于初始化信息
+ 学习心得为一个包括用于显示markdown的div
+ 账户管理则分为查找栏和列表两部分：
  + 查找栏可以通过姓名、手机号、邮箱、创建时间、更新时间进行查找
  + 列表栏负责显示用户数据，并且可以根据指定属性对用户进行排序
  + 可以勾选前面的多选框进行批量删除
  + 如果你需要查看用户具体信息，请双击列表栏
+ 在搜索栏和新建、编辑窗口都对数据进行了验证，正确的数据格式才行，错误会返回相关提示。<br>示例如下：
```
    用户名：1111                用户密码：11ddDD
    邮箱dafa@lodsjf.com         联系电话15321243343
```
+ 角色管理分为新建和列表两部分：
  + 列表栏负责显示角色数据，但不提供排序功能
  + 可以勾选前面的多选框进行批量删除
  + 如果你需要查看角色具体信息，请双击列表栏

## 项目结构

```shell
|--src //代码目录
  |--app
    |--hooks.ts //钩子
    |--store.ts //静态变量
  |--features //组件目录
    |--account //账户
        |--Account.tsx //账户组件（账户查找+账户列表）
        |--AccountEditButton.tsx //账户的新建、编辑按钮
        |--AccountInfo.tsx //账户信息
        |--AccountList.tsx //账户列表组件
        |--AccountListSlice.ts //账户列表切片
        |--AccountSearch.css //查找栏样式
        |--AccountSearch.tsx //查找栏组件
        |--AccountSearchSlice.tsx //查找栏切片
    |--experience //心得
        |--experience.tsx //学习心得组件
    |--role //角色
        |--Role.tsx //角色组件
        |--RoleEditButton.tsx //角色的新建、编辑按钮
        |--RoleInfo.tsx //角色信息
        |--RoleList.tsx //角色列表
        |--roleListSlice.ts //角色列表切片
  |--App.css    
  |--App.test.tsx
  |--App.tsx
  |--index.tsx
  |--react-app-env.d.ts
  |--setupProxy.js //代理文件
  |--setupTests.ts
```

## 实现思路

该项目由四大组件构成：侧边栏、列表栏（学习心得、账户管理、角色管理）
+ 侧边栏：是一个Menu组件，在其中存在两个一级MenuItem（学习心得和账户管理），在账户管理下存在两个二级MenuItem（账户列表和角色管理），点击相应的MenuItem会设置hash，然后根据路由显示相应的内容
+ 列表栏：分为表头和数据栏，表头有一个侧边栏坍塌按钮，点击它可以让侧边栏收缩
    + 学习心得：是一个div包裹的ReactMarkdown用于显示用markdown书写的收获与心得
    + 账户管理：分为搜索和列表两部分
        + 在搜索栏中，UI部分由三个input输入框（用户名，手机号，邮箱）、一个角色选择框、两个时间范围选择栏（创建、更新时间）和四个按钮（查询、重置、新建账户、批量删除）组成。数据部分，我为搜索栏创建了属于自己的数据切片，因为在当前状态下，如果我进行翻页操作，我是希望翻页后的数据还是之前查找筛查后的数据，所以需要报错搜索状态。
        + 在列表栏中，UI部分由数据列表和页表构成。在数据部分，  由一个Table构成，并且实现了排序和多选功能。对于页表，是一个Pagination。数据部分，我也是做了数据全局管理，列表是因为在搜索栏中，我需要进行批量删除。
        + 账户编辑按钮的单独说明，该按钮由搜索栏和列表公用的组件，要对该组件传入，该账户的信息(listItem)，按钮标题(title)和传输信息的方法(PUT OR POST)，点击该按钮，可以为你提供一个编辑框，编辑框中输入的内容会进行验证，存在错误则会给用户返回提示，点击确定则是根据方法，向服务端发送请求。
        + 账户信息的单独说明：当双击账户列表时，会进入账户信息，账户信息组件非常简单，双击账户列表时会传入item的id，然后会向服务端发送请求，拉取该账户的信息，将其显示在Descriptions组件中
    + 角色管理：角色管理实现原理与账户管理类似，但是角色管理部分比账户管理更加简单
        + 首先他的不存在搜索功能，我将账户管理的搜索组件简化成了只有新建角色和批量删除两个按钮
        + 其次，在列表中，它不存在分页功能，角色是有限的，数目相比于账户要小很多，也没有排序功能

## 使用说明
具体可见work下的README文件